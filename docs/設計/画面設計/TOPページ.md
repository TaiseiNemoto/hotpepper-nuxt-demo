## 概要

- 目的：ユーザーが「キーワード × ジャンル × エリア」で飲食店を検索し、検索結果ページへ遷移させる。
- 表示方式：初期表示はSSR、周辺店舗表示はCSRで遅延描画。
- パス：/

---

## レイアウト

```
┌────────────────────────────────────────────┐
│ [Header] ロゴ                                         │
├────────────────────────────────────────────┤
│ [Hero] キャッチコピー／説明文                           │
│ [SearchForm] キーワード | ジャンル（複数選択） | エリア（複数選択） | [検索] │
├────────────────────────────────────────────┤
│ [NearbyHotCarousel] 周辺のホットな飲食店（位置情報許可時のみ） │
│   ← [Card×N 横スクロール] →                                  │
├────────────────────────────────────────────┤
│ [Footer] クレジット一文                                      │
└────────────────────────────────────────────┘
```

---

## 画面要素

| 区分   | 要素ID                | 名称                 | 種別         | 説明                     |
| ------ | --------------------- | -------------------- | ------------ | ------------------------ |
| Header | `hd-logo`             | ロゴ                 | 画像／リンク | クリックで TOP（`/`）へ  |
| Hero   | `hero-copy`           | キャッチコピー       | テキスト     | ページ主旨の説明         |
| Form   | `sf-keyword`          | キーワード           | テキスト入力 | 店名／料理名など         |
| Form   | `sf-genres`           | ジャンル             | タグ形式     | 複数選択可               |
| Form   | `sf-areas`            | エリア               | タグ形式     | 複数選択可               |
| Form   | `sf-submit`           | 検索ボタン           | ボタン       | 条件で検索結果へ遷移     |
| Nearby | `nb-section`          | 周辺のホットな飲食店 | セクション   | 位置情報許可時のみ表示   |
| Nearby | `nb-prev` / `nb-next` | 前へ／次へ           | ボタン       | カルーセル制御           |
| Nearby | `nb-card-*`           | 店舗カード           | カード       | サムネ／店名／ジャンル等 |
| Footer | `ft-credit`           | クレジット           | テキスト     | クレジット一文のみ表示   |

---

## 各要素の仕様

### Header

- **`hd-logo`**：`<a href="/">`としてTOP遷移。

### Hero

- **`hero-copy`**：H1＋短い説明文。

### SearchForm

#### 概要

検索条件（キーワード・ジャンル・エリア）を入力し、検索結果ページへ遷移する。

#### 検索フロー

- ユーザーがキーワード・ジャンル・エリアを入力
- 検索ボタン押下
- 入力値を正規化（空値除外など）
- URLクエリを構築し、検索結果ページへ遷移
- 検索結果ページで検索APIをSSRコールし、結果を描画

#### エリア選択仕様

- 大・中・小の3階層で構成し、親子関係を自動補完（例：小エリア選択時は中・大を自動選択）。
- タグ選択UI で表示し、選択済みのエリアはバッジ形式で表示・削除可能。
- 大エリアを選ぶと、その配下の中・小エリアのみ選択可能。
- 親エリアを外すと、配下の中・小エリアも自動的に解除。
- 大・中・小はそれぞれ複数選択可（上限あり：大3件/中5件/小5件）。

#### クエリ対象フィールド

| 項目       | クエリキー | 型       | 備考                     |
| ---------- | ---------- | -------- | ------------------------ |
| キーワード | `q`        | string   | 任意入力、部分一致検索   |
| ジャンル   | `genres`   | string[] | 複数選択可               |
| 大エリア   | `area_l`   | string   | 必要に応じて指定         |
| 中エリア   | `area_m`   | string   | 大エリア選択時のみ指定可 |
| 小エリア   | `area_s`   | string   | 中エリア選択時のみ指定可 |
| ページ番号 | `page`     | number   | 1始まり                  |
| 件数       | `perPage`  | number   | 10〜50件                 |

### NearbyHotCarousel

#### 概要

- 位置情報が許可された場合にのみ表示。拒否または取得失敗時は非表示または代替文言を表示。
- 現在地をもとに周辺のおすすめ店舗を最大10件表示する。
- 位置情報取得後、CSRで内部API（`/api/hp/shops/search`）を呼び出してデータを取得する。

#### データ取得仕様

- パラメータ
  - `lat`, `lng`（必須）
  - `order=4`（おススメ順）
  - `perPage=10`, `page=1`

#### 表示仕様

- 表示形式：横スクロールのカードカルーセル
- 表示項目（各カード）：
  - 店名（`name`）
  - ジャンル名（`genre.name`）
  - サムネイル画像（`photo.s`）
  - キャッチコピー（`catch`）
- クリックで内部詳細ページに遷移（`/shops/[id]`）
- 最大表示件数：10件（取得件数が少ない場合はその件数のみ）

#### 状態表示

- **取得中**：スケルトンカード表示
- **空結果**：`周辺で該当店舗が見つかりませんでした`
- **エラー時**：`周辺情報の取得に失敗しました`
- **位置情報未許可/失敗**：セクション非表示

### Footer

- **`ft-credit`**：クレジット一文のみ。
